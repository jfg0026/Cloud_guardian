{% extends "base.html" %}
{% block title %}IPs Bloqueadas{% endblock %}

{% block content %}

<h2 class="text-2xl font-bold mb-4 text-gray-900 dark:text-white">IPs Bloqueadas</h2>

<form method="POST" class="mb-8 space-y-4">
    {% csrf_token %}

    <!-- AÃ±adir IP -->
    <div>
        <label for="ip_add" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Nueva IP a bloquear:</label>
        <input type="text" id="ip_add" name="ip_add"
            class="w-full p-2 rounded bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-700 focus:outline-none focus:ring-2 focus:ring-red-500">
        <button type="submit" name="action" value="add"
                class="mt-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded shadow focus:ring-2 focus:ring-red-400 transition">
            Bloquear IP
        </button>
    </div>

    <!-- Eliminar IP -->
    <div>
        <label for="ip_delete" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">IP a desbloquear:</label>
        <input type="text" id="ip_delete" name="ip_delete"
            class="w-full p-2 rounded bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-700 focus:outline-none focus:ring-2 focus:ring-yellow-500">
        <button type="submit" name="action" value="delete"
                class="mt-2 bg-yellow-600 hover:bg-yellow-700 text-black dark:text-white px-4 py-2 rounded shadow focus:ring-2 focus:ring-yellow-300 transition">
            Desbloquear IP
        </button>
    </div>
</form>

<!-- Listado de IPs -->
<div class="grid grid-cols-1 md:grid-cols-2 gap-6">

    <div>
        <h3 class="text-lg font-semibold mb-2 text-red-400">IPs Bloqueadas:</h3>
        <ul class="list-disc list-inside text-gray-700 dark:text-gray-300">
            {% for ip in deny_ips %}
                <li>{{ ip }}</li>
            {% empty %}
                <li>No hay IPs bloqueadas.</li>
            {% endfor %}
        </ul>
    </div>
</div>

{% endblock %}

